{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Tom/Desktop/maria-courses-next-js-java-backend/lib/db.js"],"sourcesContent":["import { Pool } from 'pg';\r\nimport dotenv from 'dotenv';\r\n\r\ndotenv.config();\r\n\r\nconst pool = new Pool({\r\n  user: process.env.PG_USER,\r\n  host: process.env.PG_HOST,\r\n  database: process.env.PG_DATABASE,\r\n  password: process.env.PG_PASSWORD,\r\n  port: process.env.PG_PORT,\r\n});\r\n\r\nasync function connectDB() {\r\n  try {\r\n    await pool.connect();\r\n    console.log('Connected to PostgreSQL database');\r\n  } catch (error) {\r\n    console.error('Database connection error:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\n// Use named export for connectDB\r\nexport { connectDB };\r\nexport default pool;\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AAKQ;;;AAHR,wIAAA,CAAA,UAAM,CAAC,MAAM;AAEb,MAAM,OAAO,IAAI,qIAAA,CAAA,OAAI,CAAC;IACpB,MAAM,gKAAA,CAAA,UAAO,CAAC,GAAG,CAAC,OAAO;IACzB,MAAM,gKAAA,CAAA,UAAO,CAAC,GAAG,CAAC,OAAO;IACzB,UAAU,gKAAA,CAAA,UAAO,CAAC,GAAG,CAAC,WAAW;IACjC,UAAU,gKAAA,CAAA,UAAO,CAAC,GAAG,CAAC,WAAW;IACjC,MAAM,gKAAA,CAAA,UAAO,CAAC,GAAG,CAAC,OAAO;AAC3B;AAEA,eAAe;IACb,IAAI;QACF,MAAM,KAAK,OAAO;QAClB,QAAQ,GAAG,CAAC;IACd,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,MAAM;IACR;AACF;;uCAIe"}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 48, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/app/courses/[Courseslug]/page.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_export_value__({\n  \"creator\": \"page-module__X1I2mW__creator\",\n  \"fade-slide-in-from-bottom\": \"page-module__X1I2mW__fade-slide-in-from-bottom\",\n  \"fade-slide-in-from-left\": \"page-module__X1I2mW__fade-slide-in-from-left\",\n  \"fade-slide-in-from-right\": \"page-module__X1I2mW__fade-slide-in-from-right\",\n  \"flash\": \"page-module__X1I2mW__flash\",\n  \"header\": \"page-module__X1I2mW__header\",\n  \"headerText\": \"page-module__X1I2mW__headerText\",\n  \"image\": \"page-module__X1I2mW__image\",\n  \"instructions\": \"page-module__X1I2mW__instructions\",\n  \"loading\": \"page-module__X1I2mW__loading\",\n  \"summary\": \"page-module__X1I2mW__summary\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 61, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Tom/Desktop/maria-courses-next-js-java-backend/app/courses/%5BCourseslug%5D/page.js"],"sourcesContent":["'use client';\r\n\r\nimport Image from 'next/image';\r\n\r\nimport { notFound } from 'next/navigation';\r\nimport { getCourse } from '@/lib/db-content'\r\nimport { useAuth } from '@/context/AuthContext'; \r\nimport classes from './page.module.css'\r\n\r\nexport default async function CourseDetailsPage( { params } ) {\r\n    const { isAdmin } = useAuth(); // Get isAdmin from AuthContext\r\n    \r\n        // Define functions to handle delete and edit\r\n        const handleDelete = () => {\r\n                alert('Need to define.');\r\n            }   \r\n    \r\n        const handleEdit = () => {\r\n              alert('Need to define.');\r\n          }   \r\n\r\n    const { Courseslug } = await params;\r\n    const course = await getCourse(Courseslug);\r\n\r\n\r\n    // If the course is not found, show the not found page\r\n    if (!course) {\r\n        notFound();\r\n        return null; // Return null to stop further processing\r\n    }\r\n\r\n    course.course_description = course.course_description.replace(/\\n/g, '<br />');\r\n\r\n    return (\r\n        <>\r\n            <header className={classes.header}>\r\n                <div className={classes.image}>\r\n                    <Image src={'/' + `${course.image}`} alt={course.title} fill/>\r\n                {/* https://marian-courses-bucket.s3.us-east-1.amazonaws.com/public/ */}\r\n                </div>\r\n                <div className={classes.headerText}>\r\n                    <h1>{course.title}</h1>\r\n                    <p className={classes.lecturer}></p>\r\n                        by <a href={`mailto:${course.lecturer_email}`}>{course.lecturer}</a>\r\n                    {/* Show these icons only if the user is an admin */}\r\n                    {isAdmin && (\r\n                                <>\r\n                                    <DeleteIcon onClick={handleDelete} />\r\n                                    <EditIcon onClick={handleEdit} />\r\n                                </>\r\n                            )}\r\n                </div>\r\n                <p className={classes.summary}>{course.summary}</p>\r\n            </header>\r\n            <main>\r\n                <p className={classes.instructions} dangerouslySetInnerHTML={{\r\n                    __html: course.course_description,\r\n                }}></p>\r\n            </main>\r\n        </>\r\n    );\r\n}"],"names":[],"mappings":";;;;AAEA;AAEA;AACA;AACA;AACA;;;AAPA;;;;;;AASe,eAAe,kBAAmB,EAAE,MAAM,EAAE;;IACvD,MAAM,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,yHAAA,CAAA,UAAO,AAAD,KAAK,+BAA+B;IAE1D,6CAA6C;IAC7C,MAAM,eAAe;QACb,MAAM;IACV;IAEJ,MAAM,aAAa;QACb,MAAM;IACV;IAEN,MAAM,EAAE,UAAU,EAAE,GAAG,MAAM;IAC7B,MAAM,SAAS,MAAM,CAAA,GAAA,uHAAA,CAAA,YAAS,AAAD,EAAE;IAG/B,sDAAsD;IACtD,IAAI,CAAC,QAAQ;QACT,CAAA,GAAA,qIAAA,CAAA,WAAQ,AAAD;QACP,OAAO,MAAM,yCAAyC;IAC1D;IAEA,OAAO,kBAAkB,GAAG,OAAO,kBAAkB,CAAC,OAAO,CAAC,OAAO;IAErE,qBACI;;0BACI,6LAAC;gBAAO,WAAW,uJAAA,CAAA,UAAO,CAAC,MAAM;;kCAC7B,6LAAC;wBAAI,WAAW,uJAAA,CAAA,UAAO,CAAC,KAAK;kCACzB,cAAA,6LAAC,gIAAA,CAAA,UAAK;4BAAC,KAAK,MAAM,GAAG,OAAO,KAAK,EAAE;4BAAE,KAAK,OAAO,KAAK;4BAAE,IAAI;;;;;;;;;;;kCAGhE,6LAAC;wBAAI,WAAW,uJAAA,CAAA,UAAO,CAAC,UAAU;;0CAC9B,6LAAC;0CAAI,OAAO,KAAK;;;;;;0CACjB,6LAAC;gCAAE,WAAW,uJAAA,CAAA,UAAO,CAAC,QAAQ;;;;;;4BAAM;0CAC7B,6LAAC;gCAAE,MAAM,CAAC,OAAO,EAAE,OAAO,cAAc,EAAE;0CAAG,OAAO,QAAQ;;;;;;4BAElE,yBACW;;kDACI,6LAAC;wCAAW,SAAS;;;;;;kDACrB,6LAAC;wCAAS,SAAS;;;;;;;;;;;;;;kCAIvC,6LAAC;wBAAE,WAAW,uJAAA,CAAA,UAAO,CAAC,OAAO;kCAAG,OAAO,OAAO;;;;;;;;;;;;0BAElD,6LAAC;0BACG,cAAA,6LAAC;oBAAE,WAAW,uJAAA,CAAA,UAAO,CAAC,YAAY;oBAAE,yBAAyB;wBACzD,QAAQ,OAAO,kBAAkB;oBACrC;;;;;;;;;;;;;AAIhB;GApD8B;;QACN,yHAAA,CAAA,UAAO;;;KADD"}},
    {"offset": {"line": 217, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}