{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Tom/Desktop/maria-courses-next-js/components/LoginForm/LoginForm.js"],"sourcesContent":["\r\nimport { useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/navigation\"; // ✅ Added for redirection\r\n\r\n\r\nexport default async function LoginForm({ children, onLoginPress }) {\r\n  const [formState, setFormState] = useState({ errors: null, message: null });\r\n  const router = useRouter(); // ✅ Added for navigation\r\n  \r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();  \r\n  \r\n\r\n  const email = e.target.email.value; // ✅ Captures email on submit\r\n  const password = e.target.password.value; // ✅ Captures password on submit\r\n\r\n  const res = await fetch(\"http://localhost:5000/api/login\", { // ✅ Updated to send login request\r\n    method: \"POST\",\r\n    credentials: \"include\", // ✅ Ensures session cookies are sent\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify({ username: email, password }),\r\n  });\r\n\r\n  const data = await res.json();\r\n    if (data.success) {\r\n      router.push(\"/my-courses\"); // ✅ Redirects on successful login\r\n    } else {\r\n      setFormState({ errors: \"Invalid credentials\", message: null }); // ✅ Show error message\r\n    }\r\n  };\r\n\r\n  return (\r\n      <div id =\"login-box\">\r\n        <form id=\"auth-form\" onSubmit={handleLogin}>\r\n      <div>\r\n        <img src=\"/images/auth-icon.jpg\" alt=\"A lock icon\" />\r\n      </div>\r\n      \r\n      <p>\r\n        <label htmlFor=\"email\">Email: </label>\r\n        <input type=\"email\" name=\"email\" id=\"email\" required />\r\n      </p>\r\n\r\n      <p>\r\n        <label htmlFor=\"password\">Heslo: </label>\r\n        <input type=\"password\" name=\"password\" id=\"password\" required />\r\n      </p>\r\n\r\n      {formState.errors && (\r\n        <p style={{ color: 'red' }}>{formState.errors}</p>\r\n      )}\r\n\r\n      {formState.message && (\r\n        <p style={{ color: 'green' }}>{formState.message}</p>\r\n      )}\r\n\r\n      <p>\r\n        <button type=\"submit\">Přihlásit se</button>\r\n      </p>\r\n\r\n      <p>\r\n        <Link href=\"/login\">Přihlásit se za pomocí Google.</Link>\r\n      </p>\r\n    </form>\r\n      </div>\r\n    )\r\n  }"],"names":[],"mappings":";;;;AACA;AACA;AACA,2UAA6C,0BAA0B;AAAvE;;;;;AAGe,eAAe,UAAU,EAAE,QAAQ,EAAE,YAAY,EAAE;IAChE,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;QAAE,QAAQ;QAAM,SAAS;IAAK;IACzE,MAAM,SAAS,CAAA,GAAA,qLAAA,CAAA,YAAS,AAAD,KAAK,yBAAyB;IAErD,MAAM,cAAc,OAAO;QACzB,EAAE,cAAc;QAGlB,MAAM,QAAQ,EAAE,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,6BAA6B;QACjE,MAAM,WAAW,EAAE,MAAM,CAAC,QAAQ,CAAC,KAAK,EAAE,gCAAgC;QAE1E,MAAM,MAAM,MAAM,MAAM,mCAAmC;YACzD,QAAQ;YACR,aAAa;YACb,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE,UAAU;gBAAO;YAAS;QACnD;QAEA,MAAM,OAAO,MAAM,IAAI,IAAI;QACzB,IAAI,KAAK,OAAO,EAAE;YAChB,OAAO,IAAI,CAAC,gBAAgB,kCAAkC;QAChE,OAAO;YACL,aAAa;gBAAE,QAAQ;gBAAuB,SAAS;YAAK,IAAI,uBAAuB;QACzF;IACF;IAEA,qBACI,8OAAC;QAAI,IAAI;kBACP,cAAA,8OAAC;YAAK,IAAG;YAAY,UAAU;;8BACjC,8OAAC;8BACC,cAAA,8OAAC;wBAAI,KAAI;wBAAwB,KAAI;;;;;;;;;;;8BAGvC,8OAAC;;sCACC,8OAAC;4BAAM,SAAQ;sCAAQ;;;;;;sCACvB,8OAAC;4BAAM,MAAK;4BAAQ,MAAK;4BAAQ,IAAG;4BAAQ,QAAQ;;;;;;;;;;;;8BAGtD,8OAAC;;sCACC,8OAAC;4BAAM,SAAQ;sCAAW;;;;;;sCAC1B,8OAAC;4BAAM,MAAK;4BAAW,MAAK;4BAAW,IAAG;4BAAW,QAAQ;;;;;;;;;;;;gBAG9D,UAAU,MAAM,kBACf,8OAAC;oBAAE,OAAO;wBAAE,OAAO;oBAAM;8BAAI,UAAU,MAAM;;;;;;gBAG9C,UAAU,OAAO,kBAChB,8OAAC;oBAAE,OAAO;wBAAE,OAAO;oBAAQ;8BAAI,UAAU,OAAO;;;;;;8BAGlD,8OAAC;8BACC,cAAA,8OAAC;wBAAO,MAAK;kCAAS;;;;;;;;;;;8BAGxB,8OAAC;8BACC,cAAA,8OAAC,4JAAA,CAAA,UAAI;wBAAC,MAAK;kCAAS;;;;;;;;;;;;;;;;;;;;;;AAK1B"}},
    {"offset": {"line": 182, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Tom/Desktop/maria-courses-next-js/app/login/page.js"],"sourcesContent":["import LoginForm from \"@/components/LoginForm/LoginForm\";\r\n\r\nexport default async function Login() {\r\n    return <LoginForm />;\r\n}"],"names":[],"mappings":";;;;AAAA;;;AAEe,eAAe;IAC1B,qBAAO,8OAAC,oIAAA,CAAA,UAAS;;;;;AACrB"}},
    {"offset": {"line": 202, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 214, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 215, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}